#!/usr/bin/env node
var program = require('commander')
var colors  = require('colors')
var builder = require('../lib/building')

function list (val) {
	return val.split(' ')
}

program
  .version('0.1.0')
  .option('compile <path>', 'Compile a website')
  .option('create <path>', 'Create a new website at given path')
  .option('test <a> <b>', 'a test', list)
  .parse(process.argv)

if (program.new) {
	builder.newWebsite(program.new, function (err, path) {
		if (err) throw err
		console.log('✔'.green + ' New website created at path ' + path)
	})
}
else if (program.compile) {
	builder.buildSite(program.compile, function (err, path) {
		if (err) throw err
		console.log('✔'.green + ' Compiled website at path: ' + path)
	})
}
else if (program.test) {
	console.log(program.test)
}
else {
	program.help()
}